{% extends "layout.html" %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h4 class="fw-bold mb-0">Admin Dashboard</h4>
  <a class="btn btn-outline-danger btn-sm" href="/admin/logout">Logout</a>
</div>

<div class="row g-3">
  <div class="col-md-4">
    <div class="card rounded-4 shadow-sm">
      <div class="card-body">
        <div class="text-muted small">Eligible Voters</div>
        <div class="fs-3 fw-bold">{{ total_eligible }}</div>
      </div>
    </div>
  </div>
  <div class="col-md-4">
    <div class="card rounded-4 shadow-sm">
      <div class="card-body">
        <div class="text-muted small">Registered</div>
        <div class="fs-3 fw-bold">{{ total_registered }}</div>
      </div>
    </div>
  </div>
  <div class="col-md-4">
    <div class="card rounded-4 shadow-sm">
      <div class="card-body">
        <div class="text-muted small">Total Votes</div>
        <div class="fs-3 fw-bold">{{ total_votes }}</div>
      </div>
    </div>
  </div>
</div>

<div class="d-flex gap-2 mt-4 flex-wrap">
  
<a class="btn btn-create" href="/admin/election/create">
  + Create Election
</a></div>

<hr class="my-4">

<h5 class="fw-bold">Elections</h5>
<div class="row g-3">
  {% for e in elections %}
  <div class="col-md-6 col-lg-4">
    <div class="card rounded-4 shadow-sm h-100">
      <div class="card-body">
        <div class="fw-bold">{{ e.title }}</div>
        <div class="small text-muted">Start: {{ e.start_at }}</div>
        <div class="small text-muted">End: {{ e.end_at }}</div>
      </div>
      <div class="card-footer bg-white border-0 pb-3 d-flex gap-2">
        <a class="btn btn-outline-dark w-50" href="/admin/election/{{ e.id }}">Manage</a>
        <a class="btn btn-dark w-50" href="/admin/results/{{ e.id }}">Results</a>
      </div>
    </div>
  </div>
  {% else %}
  <p class="text-muted">No elections yet.</p>
  {% endfor %}
</div>
{% endblock %}